{"ast":null,"code":"var _jsxFileName = \"/home/akhil/hotelreservation/onlinehotelreservation/src/components/Home.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Firebase, firedb } from '../firebase';\nimport { AuthContext } from '../auth/AuthContext';\nimport EditReservations from '../components/EditReservations'; //material-ui imports\n\nimport Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { Divider } from \"@material-ui/core\";\nconst useStyles = makeStyles(theme => ({\n  icon: {\n    marginRight: theme.spacing(2)\n  },\n  heroContent: {\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(8, 0, 6)\n  },\n  heroButtons: {\n    marginTop: theme.spacing(4)\n  },\n  cardGrid: {\n    paddingTop: theme.spacing(8),\n    paddingBottom: theme.spacing(8)\n  },\n  card: {\n    height: \"100%\",\n    display: \"flex\",\n    flexDirection: \"column\"\n  },\n  cardMedia: {\n    paddingTop: \"56.25%\"\n  },\n  cardContent: {\n    flexGrow: 1\n  },\n  footer: {\n    backgroundColor: theme.palette.background.paper,\n    padding: theme.spacing(6)\n  },\n  redDot: {\n    height: 20,\n    width: 20,\n    backgroundColor: \"red\",\n    borderRadius: \"50%\",\n    display: \"inline-block\"\n  },\n  yellowDot: {\n    height: 20,\n    width: 20,\n    backgroundColor: \"yellow\",\n    borderRadius: \"50%\",\n    display: \"inline-block\"\n  },\n  greenDot: {\n    height: 20,\n    width: 20,\n    backgroundColor: \"green\",\n    borderRadius: \"50%\",\n    display: \"inline-block\"\n  }\n}));\nvar temp = [];\n\nfunction Home(props) {\n  const classes = useStyles();\n  const admin = useContext(AuthContext);\n  const [username, setUsername] = useState('');\n  const [phone, setPhone] = useState('');\n  const [Hotel, setHotel] = useState('');\n  const [numberofpeople, setNumberofpeople] = useState('');\n  const [date, setDate] = useState('');\n  const [time, setTime] = useState('');\n  const [email, setEmail] = useState('');\n  const [reservations, setReservations] = useState([]);\n  const [id, setId] = useState();\n  const [edit, setEdit] = useState(false);\n  useEffect(() => {\n    firedb.collection(\"users\").where(\"email\", '==', `${admin.admin.email}`).get().then(querySnapshot => {\n      querySnapshot.forEach(doc => {\n        setUsername(doc.data().username);\n        setPhone(doc.data().ph_number);\n        setEmail(doc.data().email);\n      });\n    });\n    firedb.collection(\"reservations\").where(\"email\", '==', `${admin.admin.email}`).get().then(snapshot => {\n      const newData = [];\n      snapshot.forEach(doc => {\n        newData.push({ ...doc.data(),\n          id: doc.id\n        });\n        console.log(newData);\n      });\n      setReservations(newData);\n    });\n  }, []);\n  console.log(temp);\n  console.log(reservations);\n\n  const handleDelete = id => {\n    firedb.collection(\"reservations\").doc(id).delete().then(res => {\n      console.log(\"deleted\");\n      alert(\"Reservation Deleted!\");\n      window.location.href = \"/home\";\n    });\n  };\n\n  if (edit) {\n    return /*#__PURE__*/React.createElement(EditReservations, {\n      name: username,\n      email: email,\n      hotel: Hotel,\n      numberofpeople: numberofpeople,\n      date: date,\n      time: time,\n      id: id,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 13\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(React.Fragment, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(CssBaseline, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"center\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      margin: \"3%\",\n      marginBottom: \"-2%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 21\n    }\n  }, \"Welcome, \", username), /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      margin: \"3%\",\n      marginBottom: \"-2%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }, \"Find all your reservations here\")), /*#__PURE__*/React.createElement(\"main\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Container, {\n    className: classes.cardGrid,\n    maxwidth: \"md\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Grid, {\n    container: true,\n    spacing: 4,\n    className: \"w3-animate-bottom\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 25\n    }\n  }, reservations.map(car => /*#__PURE__*/React.createElement(Card, {\n    className: classes.card,\n    key: car.id,\n    style: {\n      margin: \"3%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(CardContent, {\n    className: classes.cardContent,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 148,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Typography, {\n    gutterBottom: true,\n    variant: \"h5\",\n    component: \"h2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 41\n    }\n  }, car.name), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"overline\",\n    style: {\n      color: \"grey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 41\n    }\n  }, car.email), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"overline\",\n    style: {\n      color: \"grey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 41\n    }\n  }, car.Numberofpeople), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"overline\",\n    style: {\n      color: \"grey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 41\n    }\n  }, car.Hotel), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"overline\",\n    style: {\n      color: \"grey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 41\n    }\n  }, car.Time), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 41\n    }\n  }), /*#__PURE__*/React.createElement(Typography, {\n    variant: \"overline\",\n    style: {\n      color: \"grey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 41\n    }\n  }, car.Date)), /*#__PURE__*/React.createElement(CardActions, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    color: \"primary\",\n    onClick: () => {\n      setEdit(true);\n      setId(car.id);\n      setTime(car.Time);\n      setUsername(car.name);\n      setEmail(car.email);\n      setNumberofpeople(car.Numberofpeople);\n      setDate(car.Date);\n      setHotel(car.Hotel);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 41\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(Button, {\n    size: \"small\",\n    color: \"primary\",\n    onClick: () => {\n      handleDelete(car.id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 41\n    }\n  }, \"Delete\")))))))));\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/akhil/hotelreservation/onlinehotelreservation/src/components/Home.js"],"names":["React","useContext","useEffect","useState","Firebase","firedb","AuthContext","EditReservations","Button","Card","CardActions","CardContent","CssBaseline","Grid","Typography","makeStyles","Container","Divider","useStyles","theme","icon","marginRight","spacing","heroContent","backgroundColor","palette","background","paper","padding","heroButtons","marginTop","cardGrid","paddingTop","paddingBottom","card","height","display","flexDirection","cardMedia","cardContent","flexGrow","footer","redDot","width","borderRadius","yellowDot","greenDot","temp","Home","props","classes","admin","username","setUsername","phone","setPhone","Hotel","setHotel","numberofpeople","setNumberofpeople","date","setDate","time","setTime","email","setEmail","reservations","setReservations","id","setId","edit","setEdit","collection","where","get","then","querySnapshot","forEach","doc","data","ph_number","snapshot","newData","push","console","log","handleDelete","delete","res","alert","window","location","href","margin","marginBottom","map","car","name","color","Numberofpeople","Time","Date"],"mappings":"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","sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport { Firebase, firedb } from '../firebase'\nimport { AuthContext } from '../auth/AuthContext'\nimport EditReservations from '../components/EditReservations'\n\n//material-ui imports\nimport Button from \"@material-ui/core/Button\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Container from \"@material-ui/core/Container\";\nimport { Divider } from \"@material-ui/core\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    icon: {\n        marginRight: theme.spacing(2),\n    },\n    heroContent: {\n        backgroundColor: theme.palette.background.paper,\n        padding: theme.spacing(8, 0, 6),\n    },\n    heroButtons: {\n        marginTop: theme.spacing(4),\n    },\n    cardGrid: {\n        paddingTop: theme.spacing(8),\n        paddingBottom: theme.spacing(8),\n    },\n    card: {\n        height: \"100%\",\n        display: \"flex\",\n        flexDirection: \"column\",\n    },\n    cardMedia: {\n        paddingTop: \"56.25%\",\n    },\n    cardContent: {\n        flexGrow: 1,\n    },\n    footer: {\n        backgroundColor: theme.palette.background.paper,\n        padding: theme.spacing(6),\n    },\n    redDot: {\n        height: 20,\n        width: 20,\n        backgroundColor: \"red\",\n        borderRadius: \"50%\",\n        display: \"inline-block\",\n    },\n    yellowDot: {\n        height: 20,\n        width: 20,\n        backgroundColor: \"yellow\",\n        borderRadius: \"50%\",\n        display: \"inline-block\",\n    },\n    greenDot: {\n        height: 20,\n        width: 20,\n        backgroundColor: \"green\",\n        borderRadius: \"50%\",\n        display: \"inline-block\",\n    },\n}));\n\nvar temp = [];\n\nfunction Home(props) {\n    const classes = useStyles();\n    const admin = useContext(AuthContext);\n    const [username, setUsername] = useState('')\n    const [phone, setPhone] = useState('')\n    const [Hotel, setHotel] = useState('')\n    const [numberofpeople, setNumberofpeople] = useState('')\n    const [date, setDate] = useState('')\n    const [time, setTime] = useState('')\n    const [email, setEmail] = useState('')\n    const [reservations, setReservations] = useState([])\n    const [id, setId] = useState()\n    const [edit, setEdit] = useState(false)\n\n    useEffect(() => {\n        firedb\n            .collection(\"users\")\n            .where(\"email\", '==', `${admin.admin.email}`)\n            .get()\n            .then(querySnapshot => {\n                querySnapshot.forEach(doc => {\n                    setUsername(doc.data().username)\n                    setPhone(doc.data().ph_number)\n                    setEmail(doc.data().email)\n                })\n            })\n\n        firedb\n            .collection(\"reservations\")\n            .where(\"email\", '==', `${admin.admin.email}`)\n            .get()\n            .then((snapshot) => {\n                const newData = []\n                snapshot.forEach(doc => {\n                    newData.push(({ ...doc.data(), id: doc.id }));\n                    console.log(newData)\n                })\n                setReservations(newData)\n            })\n    }, [])\n    console.log(temp)\n    console.log(reservations)\n\n    const handleDelete = (id) => {\n        firedb\n            .collection(\"reservations\")\n            .doc(id)\n            .delete()\n            .then(res => {\n                console.log(\"deleted\")\n                alert(\"Reservation Deleted!\")\n                window.location.href = \"/home\"\n            })\n    }\n\n    if (edit) {\n        return (\n            <EditReservations name={username} email={email} hotel={Hotel} numberofpeople={numberofpeople} date={date} time={time} id={id} />\n        )\n    }\n\n    return (\n        <div>\n            <React.Fragment>\n                <CssBaseline />\n                <center>\n                    <h1 style={{ margin: \"3%\", marginBottom: \"-2%\" }}>Welcome, {username}</h1>\n                    <h1 style={{ margin: \"3%\", marginBottom: \"-2%\" }}>Find all your reservations here</h1>\n                </center>\n                <main>\n                    <Container className={classes.cardGrid} maxwidth=\"md\">\n                        <Grid container spacing={4} className=\"w3-animate-bottom\">\n                            {reservations.map((car) => (\n                                <Card className={classes.card} key={car.id} style={{ margin: \"3%\" }}>\n                                    <CardContent className={classes.cardContent}>\n                                        <Typography gutterBottom variant=\"h5\" component=\"h2\">\n                                            {car.name}\n                                        </Typography>\n                                        <Divider />\n                                        <Typography variant=\"overline\" style={{ color: \"grey\" }}>\n                                            {car.email}\n                                        </Typography>\n                                        <br></br>\n                                        <Typography variant=\"overline\" style={{ color: \"grey\" }}>\n                                            {car.Numberofpeople}\n                                        </Typography>\n                                        <br></br>\n                                        <Typography variant=\"overline\" style={{ color: \"grey\" }}>\n                                            {car.Hotel}\n                                        </Typography>\n                                        <br></br>\n                                        <Typography variant=\"overline\" style={{ color: \"grey\" }}>\n                                            {car.Time}\n                                        </Typography>\n                                        <br></br>\n                                        <Typography variant=\"overline\" style={{ color: \"grey\" }}>\n                                            {car.Date}\n                                        </Typography>\n                                    </CardContent>\n                                    <CardActions>\n                                        <Button\n                                            size=\"small\"\n                                            color=\"primary\"\n                                            onClick={() => {\n                                                setEdit(true)\n                                                setId(car.id)\n                                                setTime(car.Time)\n                                                setUsername(car.name)\n                                                setEmail(car.email)\n                                                setNumberofpeople(car.Numberofpeople)\n                                                setDate(car.Date)\n                                                setHotel(car.Hotel)\n                                            }}\n                                        >\n                                            Edit\n                                        </Button>\n                                        <Button\n                                            size=\"small\"\n                                            color=\"primary\"\n                                            onClick={() => { handleDelete(car.id) }}\n                                        >\n                                            Delete\n                                        </Button>\n                                    </CardActions>\n                                </Card>\n                            ))}\n                        </Grid>\n                    </Container>\n                </main>\n            </React.Fragment>\n        </div>\n    );\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}