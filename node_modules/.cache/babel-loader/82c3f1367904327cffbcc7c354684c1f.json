{"ast":null,"code":"var _jsxFileName = \"/home/akhil/hotelreservation/src/components/Home.js\";\n//main page after login\nimport React, { useContext, useEffect } from 'react';\nimport { Firebase, firedb } from '../firebase';\nimport { AuthContext } from '../auth/AuthContext';\nimport { Redirect } from 'react-router-dom';\n\nfunction Home(props) {\n  // const person = useContext(AuthContext.Consumer)\n  // console.log(person.person)\n  const admin = useContext(AuthContext);\n  console.log(admin.admin.email);\n  console.log(admin.admin.providerData);\n  console.log(admin.admin.uid);\n  useEffect(() => {\n    firedb.collection(\"users\").where(\"email\", '==', `${admin.admin.email}`).get().then(querySnapshot => {\n      // console.log(querySnapshot.docs)\n      querySnapshot.forEach(doc => {\n        console.log(doc.data());\n      });\n    });\n  }); // if(person.person === null){\n  //     console.log(\"nullllll\")\n  //     return <Redirect to=\"/\" />\n  // }\n  // useEffect(() => {\n  //     Firebase\n  //         .auth()\n  //         .onAuthStateChanged((user) => {\n  //             console.log(user.providerData)\n  //             // setPersonstate({ person: user, loading: false });\n  //             console.log(\"userstatechanged\")\n  //         })\n  // })\n\n  const logout = () => {}; // if(admin.admin === undefined){\n  //     return <Redirect to=\"/\" />\n  // }\n\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, \"Home\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => Firebase.auth().signOut().then(console.log(\"signedout\"), window.location.href = \"/\").catch(err => {\n      console.log(err);\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, \"logout\"));\n}\n\nexport default Home;","map":{"version":3,"sources":["/home/akhil/hotelreservation/src/components/Home.js"],"names":["React","useContext","useEffect","Firebase","firedb","AuthContext","Redirect","Home","props","admin","console","log","email","providerData","uid","collection","where","get","then","querySnapshot","forEach","doc","data","logout","auth","signOut","window","location","href","catch","err"],"mappings":";AAAA;AACA,OAAOA,KAAP,IAAgBC,UAAhB,EAA4BC,SAA5B,QAA6C,OAA7C;AACA,SAASC,QAAT,EAAmBC,MAAnB,QAAiC,aAAjC;AACA,SAASC,WAAT,QAA4B,qBAA5B;AACA,SAASC,QAAT,QAAyB,kBAAzB;;AAEA,SAASC,IAAT,CAAcC,KAAd,EAAqB;AACjB;AACA;AACA,QAAMC,KAAK,GAAGR,UAAU,CAACI,WAAD,CAAxB;AACAK,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACA,KAAN,CAAYG,KAAxB;AACAF,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACA,KAAN,CAAYI,YAAxB;AACAH,EAAAA,OAAO,CAACC,GAAR,CAAYF,KAAK,CAACA,KAAN,CAAYK,GAAxB;AAEAZ,EAAAA,SAAS,CAAC,MAAM;AACZE,IAAAA,MAAM,CACLW,UADD,CACY,OADZ,EAECC,KAFD,CAEO,OAFP,EAEgB,IAFhB,EAEwB,GAAEP,KAAK,CAACA,KAAN,CAAYG,KAAM,EAF5C,EAGCK,GAHD,GAICC,IAJD,CAIMC,aAAa,IAAI;AACnB;AACAA,MAAAA,aAAa,CAACC,OAAd,CAAsBC,GAAG,IAAI;AAC3BX,QAAAA,OAAO,CAACC,GAAR,CAAYU,GAAG,CAACC,IAAJ,EAAZ;AAED,OAHD;AAIH,KAVD;AAWH,GAZQ,CAAT,CARiB,CAuBjB;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,QAAMC,MAAM,GAAG,MAAM,CAIpB,CAJD,CArCiB,CA2CjB;AACA;AACA;;;AAEA,sBACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YAFJ,eAKI;AAAQ,IAAA,OAAO,EAAE,MAAMpB,QAAQ,CAACqB,IAAT,GAAgBC,OAAhB,GAA0BP,IAA1B,CAA+BR,OAAO,CAACC,GAAR,CAAY,WAAZ,CAA/B,EAAyDe,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuB,GAAhF,EAAqFC,KAArF,CAA2FC,GAAG,IAAI;AAAEpB,MAAAA,OAAO,CAACC,GAAR,CAAYmB,GAAZ;AAAkB,KAAtH,CAAvB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cALJ,CADJ;AASH;;AAED,eAAevB,IAAf","sourcesContent":["//main page after login\nimport React, { useContext, useEffect } from 'react';\nimport { Firebase, firedb } from '../firebase'\nimport { AuthContext } from '../auth/AuthContext'\nimport { Redirect } from 'react-router-dom';\n\nfunction Home(props) {\n    // const person = useContext(AuthContext.Consumer)\n    // console.log(person.person)\n    const admin = useContext(AuthContext);\n    console.log(admin.admin.email)\n    console.log(admin.admin.providerData)\n    console.log(admin.admin.uid)\n\n    useEffect(() => {\n        firedb\n        .collection(\"users\")\n        .where(\"email\", '==' , `${admin.admin.email}`)\n        .get()\n        .then(querySnapshot => {\n            // console.log(querySnapshot.docs)\n            querySnapshot.forEach(doc => {\n              console.log(doc.data())\n              \n            })\n        })\n    })\n\n\n    // if(person.person === null){\n    //     console.log(\"nullllll\")\n    //     return <Redirect to=\"/\" />\n    // }\n\n    // useEffect(() => {\n    //     Firebase\n    //         .auth()\n    //         .onAuthStateChanged((user) => {\n    //             console.log(user.providerData)\n    //             // setPersonstate({ person: user, loading: false });\n    //             console.log(\"userstatechanged\")\n    //         })\n    // })\n    const logout = () => {\n\n\n\n    }\n\n    // if(admin.admin === undefined){\n    //     return <Redirect to=\"/\" />\n    // }\n\n    return (\n        <div>\n\n            <div>\n                Home\n            </div>\n            <button onClick={() => Firebase.auth().signOut().then(console.log(\"signedout\"), window.location.href = \"/\").catch(err => { console.log(err) })}>logout</button>\n        </div>\n    );\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}